[{"/Users/forpk/study/react/react-xwitter/src/index.js":"1","/Users/forpk/study/react/react-xwitter/src/components/App.js":"2","/Users/forpk/study/react/react-xwitter/src/components/Router.js":"3","/Users/forpk/study/react/react-xwitter/src/routes/Auth.js":"4","/Users/forpk/study/react/react-xwitter/src/routes/Home.js":"5","/Users/forpk/study/react/react-xwitter/src/fbManager.js":"6","/Users/forpk/study/react/react-xwitter/src/components/Navigation.js":"7","/Users/forpk/study/react/react-xwitter/src/routes/Profile.js":"8","/Users/forpk/study/react/react-xwitter/src/components/Xwitt.js":"9","/Users/forpk/study/react/react-xwitter/src/components/XwittFactory.js":"10","/Users/forpk/study/react/react-xwitter/src/components/AuthForm.js":"11"},{"size":421,"mtime":1611159477598,"results":"12","hashOfConfig":"13"},{"size":1217,"mtime":1611759394705,"results":"14","hashOfConfig":"13"},{"size":853,"mtime":1611754734155,"results":"15","hashOfConfig":"13"},{"size":2339,"mtime":1611472545139,"results":"16","hashOfConfig":"13"},{"size":920,"mtime":1611758686104,"results":"17","hashOfConfig":"13"},{"size":658,"mtime":1611710405254,"results":"18","hashOfConfig":"13"},{"size":346,"mtime":1611733231555,"results":"19","hashOfConfig":"13"},{"size":1091,"mtime":1611759294670,"results":"20","hashOfConfig":"13"},{"size":1822,"mtime":1611753981978,"results":"21","hashOfConfig":"13"},{"size":2207,"mtime":1611758697443,"results":"22","hashOfConfig":"13"},{"size":1733,"mtime":1611759242131,"results":"23","hashOfConfig":"13"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},"10o3e8v",{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"31"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"43","messages":"44","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"45","messages":"46","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"47"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/forpk/study/react/react-xwitter/src/index.js",[],["50","51"],"/Users/forpk/study/react/react-xwitter/src/components/App.js",[],"/Users/forpk/study/react/react-xwitter/src/components/Router.js",[],["52","53"],"/Users/forpk/study/react/react-xwitter/src/routes/Auth.js",[],"/Users/forpk/study/react/react-xwitter/src/routes/Home.js",[],"/Users/forpk/study/react/react-xwitter/src/fbManager.js",[],["54","55"],"/Users/forpk/study/react/react-xwitter/src/components/Navigation.js",[],"/Users/forpk/study/react/react-xwitter/src/routes/Profile.js",[],"/Users/forpk/study/react/react-xwitter/src/components/Xwitt.js",["56"],"/Users/forpk/study/react/react-xwitter/src/components/XwittFactory.js",["57"],"import React, { useState } from \"react\";\nimport { dbService, storageService } from \"fbManager\";\nimport { v4 as uuidv4 } from \"uuid\";\n\nconst XwittFactory = ({ userObj }) => {\n  const [xwitt, setXwitt] = useState(\"\");\n  const [attachment, setAttachment] = useState(\"\");\n  const onSubmit = async (e) => {\n    e.preventDefault();\n    let attachmentUrl = null;\n    if (attachment !== \"\") {\n      const attachmentRef = storageService\n        .ref()\n        .child(`${userObj.uid}/${uuidv4()}`);\n      const response = await attachmentRef.putString(attachment, \"data_url\");\n      attachmentUrl = await response.ref.getDownloadURL();\n      // putString 호출하면 UploadTask를 리턴해줌\n      // uuid 사진명\n    }\n\n    const xwittObj = {\n      text: xwitt,\n      createAt: Date.now(),\n      createId: userObj.uid,\n      attachmentUrl,\n    };\n    await dbService.collection(\"xwitts\").add(xwittObj);\n    setXwitt(\"\");\n    setAttachment(\"\");\n  };\n\n  const onChange = (e) => {\n    const { value } = e.target;\n    setXwitt(value);\n  };\n\n  const onFileChange = (e) => {\n    console.log(e.target.files);\n    const {\n      target: { files },\n    } = e;\n    const theFile = files[0]; // 하나만\n    const reader = new FileReader();\n    reader.onloadend = (finishedEvent) => {\n      // 파일 로딩 또는 읽는 것이 끝날때 finishedEvent 갖게 됨\n      console.log(finishedEvent);\n      // currentTarget.result\n      const {\n        currentTarget: { result },\n      } = finishedEvent;\n      setAttachment(result);\n    };\n    reader.readAsDataURL(theFile);\n    // img를 문자열로 변환해줌\n  };\n\n  const onClearAttachment = () => setAttachment(null);\n\n  return (\n    <form onSubmit={onSubmit}>\n      <input\n        onChange={onChange}\n        value={xwitt}\n        type=\"text\"\n        placeholder=\"What's on your mind\"\n        maxLength={120}\n      />\n      <input onChange={onFileChange} type=\"file\" accept=\"image/*\" />\n      <input type=\"submit\" value=\"Xwitt\" />\n      {attachment && (\n        <div>\n          <img src={attachment} width=\"50px\" height=\"50px\" />\n          <button onClick={onClearAttachment}>Clear</button>\n        </div>\n      )}\n    </form>\n  );\n};\n\nexport default XwittFactory;\n","/Users/forpk/study/react/react-xwitter/src/components/AuthForm.js",[],{"ruleId":"58","replacedBy":"59"},{"ruleId":"60","replacedBy":"61"},{"ruleId":"58","replacedBy":"62"},{"ruleId":"60","replacedBy":"63"},{"ruleId":"58","replacedBy":"64"},{"ruleId":"60","replacedBy":"65"},{"ruleId":"66","severity":1,"message":"67","line":54,"column":13,"nodeType":"68","endLine":54,"endColumn":76},{"ruleId":"66","severity":1,"message":"67","line":72,"column":11,"nodeType":"68","endLine":72,"endColumn":62},"no-native-reassign",["69"],"no-negated-in-lhs",["70"],["69"],["70"],["69"],["70"],"jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","no-global-assign","no-unsafe-negation"]